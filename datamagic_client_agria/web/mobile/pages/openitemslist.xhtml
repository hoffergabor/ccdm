<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	template="/pages/template.xhtml">


	<ui:define name="body">
		<div class="content textcolor1 backgroundcolor3"><h:form
			id="openitemform"
			target="#{facesContext.maximumSeverity.ordinal>0 ? '_blank':''}">
			<p:panel styleClass="gradpanel" id="panel">
				<h1>#{msg.SIDEBAR_OPENITEMS_BUTTON}</h1>
				<div style="width: 100%; height: 550px; overflow: scroll"><p:dataTable
					style="text-align:left" selectionMode="single" loadingMessage=""
					emptyMessage="#{msg.NODATA}" dynamic="true" lazy="true"
					value="#{openitemsserviceController.data.openItemList}" var="data"
					id="openitemTable">
					<f:facet name="header">
						<h:outputText value="#{msg.SIDEBAR_OPENITEMS_BUTTON}" />
					</f:facet>
					<p:column resizable="true" sortBy="#{data.kimeno}">
						<f:facet name="header">
							<h:outputText value="#{msg.INVOICELIST_INOUT}" />
						</f:facet>
						<h:graphicImage
							url="#{data.kimeno ? '../img/kimeno.png' : '../img/bejovo.png'}" />
					</p:column>
					<p:column resizable="true" sortBy="#{data.sorszam}"
						filterBy="#{data.sorszam}">
						<f:facet name="header">
							<h:outputText value="#{msg.ORDERS_ORDERVIEW_ORDERNUM}" />
						</f:facet>
						<h:outputText value="#{data.sorszam}" styleClass="bold" />
					</p:column>
					<p:column resizable="true" sortBy="#{data.cegnev}"
						filterBy="#{data.cegnev}">
						<f:facet name="header">
							<h:outputText value="#{msg.INVOICELIST_COMPANY}" />
						</f:facet>
						<h:outputText value="#{data.cegnev}" />
					</p:column>
					<p:column resizable="true" sortBy="#{data.kelt}"
						style="text-align:center">
						<f:facet name="header">
							<h:outputText value="#{msg.INVOICELIST_FILE}" />
						</f:facet>
						<h:outputText value="#{data.kelt}">
							<f:convertDateTime pattern="#{msg.DATEFORMAT}" />
						</h:outputText>
					</p:column>
					<p:column resizable="true" sortBy="#{data.esedkelt}"
						style="text-align:center">
						<f:facet name="header">
							<h:outputText value="#{msg.INVOICELIST_DUE}" />
						</f:facet>
						<h:outputText value="#{data.esedkelt}">
							<f:convertDateTime pattern="#{msg.DATEFORMAT}" />
						</h:outputText>
					</p:column>
					<p:column resizable="true" sortBy="#{data.telj}"
						style="text-align:center">
						<f:facet name="header">
							<h:outputText value="#{msg.INVOICELIST_COMPLETED}" />
						</f:facet>
						<h:outputText value="#{data.telj}">
							<f:convertDateTime pattern="#{msg.DATEFORMAT}" />
						</h:outputText>
					</p:column>
					<p:column resizable="true" sortBy="#{data.realesed}"
						style="text-align:center">
						<f:facet name="header">
							<h:outputText value="#{msg.INVOICELIST_WARRANT}" />
						</f:facet>
						<h:outputText value="#{data.realesed}">
							<f:convertDateTime type="date" />
						</h:outputText>
					</p:column>
					<p:column resizable="true" sortBy="#{data.fizetve}"
						style="text-align:center">
						<f:facet name="header">
							<h:outputText value="#{msg.INVOICELIST_PAYMENT}" />
						</f:facet>
						<h:outputText value="#{data.fizetve}">
							<f:convertDateTime pattern="#{msg.DATEFORMAT}" />
						</h:outputText>
					</p:column>
					<p:column resizable="true" sortBy="#{data.dnetto}"
						filterBy="#{data.brutto}" style="text-align:right">
						<f:facet name="header">
							<h:outputText value="#{msg.ORDERS_ORDERVIEW_NET}" />
						</f:facet>
						<h:outputText value="#{data.netto}">
							<f:convertNumber pattern="#,##0" />
						</h:outputText>
					</p:column>
					<p:column resizable="true" sortBy="#{data.dbrutto}"
						filterBy="#{data.brutto}" style="text-align:right">
						<f:facet name="header">
							<h:outputText value="#{msg.ORDERS_ORDERVIEW_GRO}" />
						</f:facet>
						<h:outputText value="#{data.brutto}">
							<f:convertNumber pattern="#,##0" />
						</h:outputText>
					</p:column>
					<p:column resizable="true" sortBy="#{data.rossz}"
						style="text-align:right">
						<f:facet name="header">
							<h:outputText value="FIZETVE" />
						</f:facet>
						<h:outputText value="#{data.rossz}">
							<f:convertNumber pattern="#,##0" />
						</h:outputText>
					</p:column>
					<p:column resizable="true" sortBy="#{data.arrears}"
						style="text-align:right">
						<f:facet name="header">
							<h:outputText value="HATRALEK" />
						</f:facet>
						<h:outputText value="#{data.arrears}">
							<f:convertNumber pattern="#,##0" />
						</h:outputText>
					</p:column>
					<p:column resizable="true" sortBy="#{data.devnem}">
						<f:facet name="header">
							<h:outputText value="#{msg.ORDERS_ORDERVIEW_FOREX}" />
						</f:facet>
						<h:outputText value="#{data.devnem}" />
					</p:column>
					<p:column resizable="true" sortBy="#{data.fizmod}">
						<f:facet name="header">
							<h:outputText value="#{msg.INVOICELIST_PAYMENTMODE}" />
						</f:facet>
						<h:outputText value="#{data.fizmod}" />
					</p:column>
				</p:dataTable></div>
				<div class="panel-summary"><h:panelGroup id="summaryPanel">
					<table width="100%" border="0" cellspacing="0" cellpadding="0">
						<tr>
							<td class="panel-summary-left"></td>
							<td class="panel-summary-center"><span>#{msg.ORDERS_ORDERVIEW_SUMMARY}</span><label>#{msg.ORDERS_ORDERVIEW_NET}</label>
							<h2><h:outputText
								value="#{openitemsserviceController.data.netto}">
								<f:convertNumber pattern="#,##0" />
							</h:outputText></h2>
							<label>#{msg.ORDERS_ORDERVIEW_GRO}</label>
							<h2><h:outputText
								value="#{openitemsserviceController.data.brutto}">
								<f:convertNumber pattern="#,##0" />
							</h:outputText></h2>
							<label>#{msg.ARREARS}</label>
							<h2><h:outputText
								value="#{openitemsserviceController.data.arrears}">
								<f:convertNumber pattern="#,##0" />
							</h:outputText></h2>
							</td>
							<td class="ppanel-summary-right"></td>
						</tr>
					</table>
				</h:panelGroup></div>
				<br />
				<p:commandButton value="#{msg.SIDEBAR_LOGOUT_BUTTON}"
					styleClass="button" global="false"
					onclick="document.getElementById('page:openitemform:panel').style.visibility='hidden'" />
			</p:panel>
		</h:form></div>
		<div id="loader" class="loader"><p:ajaxStatus id="stat">
			<f:facet name="start">
				<h:panelGroup>
					<table align="center" class="loadertable">
						<tr>
							<td
								style="padding-bottom: 10px; padding-left: 10px; padding-right: 10px; padding-top: 10px;"><h:graphicImage
								value="../img/loader.gif"></h:graphicImage></td>
						</tr>
						<tr>
							<td
								style="padding-bottom: 10px; padding-left: 10px; padding-right: 10px;"><h:outputText
								value="#{msg.PROGRESS_MSG}"
								style="color: #fff;font-weight: bold;font-size: 12px;"></h:outputText></td>
						</tr>
					</table>
				</h:panelGroup>
			</f:facet>
			<f:facet name="complete">
				<p></p>
			</f:facet>
		</p:ajaxStatus></div>
	</ui:define>
</ui:composition>