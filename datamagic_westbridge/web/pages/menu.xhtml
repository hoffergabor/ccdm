<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.prime.com.tr/ui">

	<div class="wrapper">
		<h:form id="menuform">
			<div class="menuHeader">
				<img class="logo" src="../img/databridge.png" />
				<p:ajaxStatus id="stat">
					<f:facet name="start">
						<div class="headerLoader">
							<img class="loaderImg" src="../img/newDesign/loader.gif" />
							<h:panelGroup id="statElement">
								<h:outputText value="#{msg.PROGRESS_MSG}" />
							</h:panelGroup>
						</div>
					</f:facet>

					<f:facet name="complete">

						<h:outputText value="" />
					</f:facet>
				</p:ajaxStatus>
				<p:commandButton styleClass="logout button"
					action="#{loginserviceController.logout}"
					value="#{msg.SIDEBAR_LOGOUT_BUTTON}" />
				<div class="menuUser">
					<h1 class="nomobile">
						<h:outputText
							value="#{loginserviceController.managedPartner.nev}#{loginserviceController.managedWorker.dnev}#{loginserviceController.managedStore.nev}" />
					</h1>
					<h:outputText
						rendered="#{loginserviceController.managedStore!=null}"
						value="#{loginserviceController.managedStore.irsz} #{loginserviceController.managedStore.varos}, #{loginserviceController.managedStore.cim}" />
					<h:outputText
						rendered="#{loginserviceController.managedPartner!=null}"
						value="#{loginserviceController.managedPartner.irsz} #{loginserviceController.managedPartner.varos}, #{loginserviceController.managedPartner.cim}" />
					<h:outputText
						rendered="#{loginserviceController.managedWorker!=null}"
						value="#{loginserviceController.managedWorker.dirsz} #{loginserviceController.managedWorker.dvaros}, #{loginserviceController.managedWorker.dcim}" />

					<h:outputText
						value="#{loginserviceController.managedPartner.email}#{loginserviceController.managedWorker.email}" />
				</div>
			</div>
			<h:panelGroup styleClass="menu" id="menu">
				<div class="inside">
					<div class="menupoints">

						<p:commandButton action="logistics" value="LOGISZTIKA" id="menu9"
							binding="#{menuController.data.menu9}" update="menu"
							immediate="true"
							actionListener="#{menuController.changeActiveMenuColor}" />
						<p:commandButton action="invoicelist"
							value="#{msg.SIDEBAR_INVOICE_BUTTON}" id="menu2"
							binding="#{menuController.data.menu2}" update="menu"
							immediate="true"
							actionListener="#{menuController.changeActiveMenuColor}" />
						<p:commandButton action="openitemslist"
							value="#{msg.SIDEBAR_OPENITEMS_BUTTON}" id="menu6"
							binding="#{menuController.data.menu6}" update="menu"
							immediate="true"
							actionListener="#{menuController.changeActiveMenuColor}" />
						<p:commandButton action="partnerdataupdate"
							rendered="#{loginserviceController.managedUser.userType=='DM_PARTNER' or loginserviceController.managedUser.userType=='DM_STORE'}"
							value="#{msg.SIDEBAR_PARTNERDATA_BUTTON}" id="menu4"
							binding="#{menuController.data.menu4}" update="menu"
							immediate="true"
							actionListener="#{menuController.changeActiveMenuColor}" />
						<p:commandButton
							rendered="#{loginserviceController.managedUser.userType=='DM_WORKER'}"
							action="workerdataupdate"
							value="#{msg.SIDEBAR_PARTNERDATA_BUTTON}" id="menu5"
							binding="#{menuController.data.menu5}" update="menu"
							immediate="true"
							actionListener="#{menuController.changeActiveMenuColor}" />
						<a href="#" onclick="ShowHelp();" class="menuHelp">segítség</a>
					</div>
				</div>
			</h:panelGroup>
			<p:dialog resizable="false" widgetVar="idleDialog" modal="true"
				styleClass="commonDialog" width="280" closable="false"
				header="Munkamenet lejárt!">
				<center>
					<h:panelGroup id="logoutpanel">
						<h:outputText value="Kérjük jelentkezzen be újra!"
							style="font-size: 13px" />
						<br />
						<br />
						<p:commandButton action="#{loginserviceController.logout}"
							value="OK" styleClass="button" type="submit" global="false"
							onclick="window.location.reload()"></p:commandButton>
					</h:panelGroup>
				</center>
			</p:dialog>
			<p:idleMonitor timeout="600000" onidle="idleDialog.show();"
				idleListener="#{loginserviceController.idleListener}" />
		</h:form>
	</div>
</ui:composition>